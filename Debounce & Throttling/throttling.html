<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <title>Debouncing</title>
</head>

<body style="background-color: #0B2447; color: #A5D7E8;">
    <h1 class="text-center mt-5">Throttling </h1>

    <form class="m-5">
        <div class="form-group">
            <label>Search bar
            </label>
            <input type="text" class="form-control mt-3" id="exampleInput" autocomplete="off" placeholder="Search"
                onkeypress="debouncefn()">
        </div>
        <div class="content mt-3 "></div>

    </form>
    <!-- 
        throttleFlag : calls or executes an query or API after every timeout while user is performing some action
        debouncing: executes API or query after user done performing some actions ex: if settimout out is 300ms then after user completes its action it gets executed after 300ms
     -->
    <script>
        var throttleFlag = true;

        const debouncefn = () => {
            if (throttleFlag) {

                let contentDiv = document.querySelector('.content');
                contentDiv.innerHTML += `<p>Time : ${new Date().getMinutes()} m ${new Date().getSeconds()} sec ${new Date().getMilliseconds()} milliseconds</p>`
                throttleFlag = false;

                setTimeout(() => { throttleFlag = true }, 600)
            }
        }
    </script>
</body>

</html>